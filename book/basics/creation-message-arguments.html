<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Creation Message Arguments - AST Documentation | Angel Protocol</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../section-lines.css">

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../introduction.html">Introduction</a></li><li class="chapter-item expanded affix "><li class="part-title">Basics of Angel Protocol Contracts</li><li class="chapter-item expanded "><a href="../overview/overview-of-key-contracts.html"><strong aria-hidden="true">1.</strong> Overview of Key Contracts</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../overview/key-contracts-registrar.html"><strong aria-hidden="true">1.1.</strong> Registrar Contract</a></li><li class="chapter-item expanded "><a href="../overview/key-contracts-accounts.html"><strong aria-hidden="true">1.2.</strong> Accounts Contract</a></li></ol></li><li class="chapter-item expanded "><a href="../overview/types-of-endowments.html"><strong aria-hidden="true">2.</strong> Type of Endowments</a></li><li class="chapter-item expanded "><a href="../overview/endowment-balance-accounting.html"><strong aria-hidden="true">3.</strong> Endowment Balance Accounting</a></li><li class="chapter-item expanded "><a href="../overview/fund-flows-into-around-outof-angel-protocol.html"><strong aria-hidden="true">4.</strong> Fund flows into, around, and out of Angel Protocol</a></li><li class="chapter-item expanded affix "><li class="part-title">Getting Started with ASTs</li><li class="chapter-item expanded "><a href="../basics/creating-an-ast.html"><strong aria-hidden="true">5.</strong> Creating An AST</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../basics/creation-message-arguments.html" class="active"><strong aria-hidden="true">5.1.</strong> Creation Message Arguments</a></li></ol></li><li class="chapter-item expanded "><a href="../basics/ast-multsigs.html"><strong aria-hidden="true">6.</strong> AST Multsigs</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../basics/how-does-multisig-work.html"><strong aria-hidden="true">6.1.</strong> How Does a Multisig Work?</a></li><li class="chapter-item expanded "><a href="../basics/managing-multisig-members.html"><strong aria-hidden="true">6.2.</strong> Managing The Members Of A Multisig</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">Advanced AST Functionality</li><li class="chapter-item expanded "><a href="../advanced/getting-funds-into-and-out-of-an-ast.html"><strong aria-hidden="true">7.</strong> Getting Funds Into And Out Of An AST</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../advanced/deposits.html"><strong aria-hidden="true">7.1.</strong> Taking Deposits/Contributions</a></li><li class="chapter-item expanded "><a href="../advanced/withdraws.html"><strong aria-hidden="true">7.2.</strong> Placing Withdraws</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.</strong> Modifying the configuration parameters of an AST</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.</strong> Investing and redeeming funds held in an AST</div></li><li class="chapter-item expanded affix "><li class="part-title">Contracts and Wallet Addresses</li><li class="chapter-item expanded "><a href="../references/wallet-contract-addresses-testnet.html"><strong aria-hidden="true">10.</strong> Testnet - Polygon</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">11.</strong> Mainnet - Polygon</div></li><li class="spacer"></li><li class="chapter-item expanded affix "><a href="../references/misc-reference-links.html">References</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">AST Documentation | Angel Protocol</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="creation-message-arguments"><a class="header" href="#creation-message-arguments">Creation Message Arguments</a></h1>
<h2 id="endowment-owner"><a class="header" href="#endowment-owner">Endowment Owner</a></h2>
<p><code>address owner;</code>
This field should usually be set as the message sender EOA, as it will only be used temporarily until the AST Multisig is created and set as the true owner. </p>
<h2 id="endowment-type"><a class="header" href="#endowment-type">Endowment Type</a></h2>
<p><code>AngelCoreStruct.EndowmentType endow_type;</code>
This field expects and EndowmentType enum:</p>
<pre><code class="language-javascript">enum EndowmentType {
        Charity,
        Normal,
        None
    }
</code></pre>
<p>It should always be set as &quot;Normal&quot; for AST creation message. </p>
<h2 id="endowment-tier"><a class="header" href="#endowment-tier">Endowment Tier</a></h2>
<p><code>uint256 tier;</code>
This field should always be set as 0 for AST creation messages. This field is used exclusively by Charity endowments. </p>
<h2 id="maturity-time"><a class="header" href="#maturity-time">Maturity Time</a></h2>
<pre><code class="language-javascript">bool withdrawBeforeMaturity;
uint256 maturityTime;
</code></pre>
<p>These fields are responsible for controlling when the AST Endowment will mature at and whether or not withdraws are possible before this maturity date. Both of these fields can only be set at the time of instantiation. </p>
<p>If <code>withdrawBeforeMaturity == true</code>, then funds will be be able to be withdrawn before the maturity date, if set to false, then funds are locked until maturity is set (if ever). </p>
<p>The maturityTime field, if non-zero, sets the time that the Endowment will mature at. If <code>0</code> the endowment effectively has no maturity date (indefinate). </p>
<h2 id="categories-and-un-sdgs"><a class="header" href="#categories-and-un-sdgs">Categories and UN SDGs</a></h2>
<p><code>AngelCoreStruct.Categories categories;</code>
This field expects a Categories struct which lays out the UN SDGs and General categories that apply to an Endowment:</p>
<pre><code class="language-javascript">struct Categories {
    uint256[] sdgs;
    uint256[] general;
}
</code></pre>
<p>SDGs are used mostly with Charity endowments only, though they could be used by an AST if desired, though having at least 1 SDG set is not a requirement for them, unlike with Charity endowments. General categories is a open, flexible system thin which AST owners can set integer values on chain for interally defined categories. This General category might be useful for users that have many ASTs or those that have my sub-AST (child ASTs) that want to group them by internal classifiers. </p>
<h2 id="basic-endowment-info-strings"><a class="header" href="#basic-endowment-info-strings">Basic Endowment Info Strings</a></h2>
<pre><code class="language-javascript">string name;
string logo;
string image;
</code></pre>
<p>These fields are simple, informational string vaules that will help identify your AST endowment on-chain and can be used by those who are not using suplemental database storages for AST information. </p>
<ul>
<li>Name: The name of your AST</li>
<li>Logo: A URL string that points to your AST’s logo image</li>
<li>Image: A URL string that points to your AST’s banner/suplemental image</li>
</ul>
<h2 id="kyc-required"><a class="header" href="#kyc-required">KYC Required</a></h2>
<p><code>bool kycDonorsOnly;</code>
If set to true, the AST is stating its preference for only recieving funds from KYC’d donors/contibutors. This is something that would be read by and enforced from the frontend environment, as there’s currently no real way to do this on-chain today.</p>
<h2 id="multisig-initial-configs"><a class="header" href="#multisig-initial-configs">MultiSig Initial Configs</a></h2>
<pre><code class="language-javascript">address[] cw4_members;
AngelCoreStruct.Threshold cw3Threshold;
AngelCoreStruct.Duration cw3MaxVotingPeriod;
</code></pre>
<p>The above argments control the starting vaules for the AST Endowment’s MultiSig.</p>
<ul>
<li>cw4_members: A list of EVM addresses that should be setup as the starting owners/members of the AST Endowment multisig</li>
<li>cw3Threshold: This argument expects a Threshold struct which lays out the following: </li>
</ul>
<pre><code class="language-javascript">struct Threshold {
    ThresholdEnum enumData;
    ThresholdData data;
}
</code></pre>
<p><code>ThresholdEnum</code> struct specifies the type of threshold used:</p>
<pre><code class="language-javascript">enum ThresholdEnum {
    AbsoluteCount,
    AbsolutePercentage,
    ThresholdQuorum
}
</code></pre>
<p>ThresholdData struct is where the relevent values for the above threshold type are passed. When not applicable, a 0 value can be passed:</p>
<pre><code class="language-javascript">struct ThresholdData {
    uint256 weight;
    uint256 percentage;
    uint256 threshold;
    uint256 quorum;
}
</code></pre>
<h2 id="whitelists"><a class="header" href="#whitelists">Whitelists</a></h2>
<pre><code class="language-javascript">address[] whitelistedBeneficiaries;
address[] whitelistedContributors;
address[] maturityWhitelist;
</code></pre>
<p>These values setup the allow lists for what restrictions, if any, will exist for those wallets that will be beneficiaries of or contributors to the AST. If an empty array is passed it is assumed that there should be NO restrictions on that field (ie. Any wallet address will be allowed). 
The maturityWhitelist field is the set of addresses that can access the AST funds at the time of maturity. It is distinct from the other two whitelists here, which apply only while the AST is not yet mature. </p>
<h2 id="split-logic"><a class="header" href="#split-logic">Split Logic</a></h2>
<pre><code class="language-javascript">uint256 splitMax;
uint256 splitMin;
uint256 splitDefault;
bool ignoreUserSplits;
AngelCoreStruct.SplitDetails splitToLiquid;
</code></pre>
<p>???</p>
<h2 id="custom-fees"><a class="header" href="#custom-fees">Custom Fees</a></h2>
<pre><code class="language-javascript">AngelCoreStruct.EndowmentFee earningsFee;
AngelCoreStruct.EndowmentFee withdrawFee;
AngelCoreStruct.EndowmentFee depositFee;
AngelCoreStruct.EndowmentFee aumFee;
</code></pre>
<p>???</p>
<h2 id="settings-controller"><a class="header" href="#settings-controller">Settings Controller</a></h2>
<p><code>AngelCoreStruct.SettingsController settingsController;</code>
This field expects a <code>SettingsController</code> struct which lays out on-chain enforced rules as to whom can make changes to which AST endowment fields and settings:</p>
<pre><code class="language-javascript">struct SettingsController {
    SettingsPermission endowmentController;
    SettingsPermission strategies;
    SettingsPermission whitelistedBeneficiaries;
    SettingsPermission whitelistedContributors;
    SettingsPermission maturityWhitelist;
    SettingsPermission maturityTime;
    SettingsPermission profile;
    SettingsPermission earningsFee;
    SettingsPermission withdrawFee;
    SettingsPermission depositFee;
    SettingsPermission aumFee;
    SettingsPermission kycDonorsOnly;
    SettingsPermission name;
    SettingsPermission image;
    SettingsPermission logo;
    SettingsPermission categories;
    SettingsPermission splitToLiquid;
    SettingsPermission ignoreUserSplits;
}
</code></pre>
<p>As you can see from the struct shape and contents, the <code>SettingsController</code> struct is a set of fields which hold <code>SettingsPermissions</code> struct with have all the relevent permissions details encoded:</p>
<pre><code class="language-javascript">struct SettingsPermission {
    bool ownerControlled;
    bool govControlled;
    bool modifiableAfterInit;
    Delegate delegate;
}
</code></pre>
<h2 id="parent--child-endowments"><a class="header" href="#parent--child-endowments">Parent / Child Endowments</a></h2>
<p><code>uint256 parent;</code>
If you have an existing AST Endowment that will be the parent/owner of a sub-AST or child AST Endowment, this field is where that parent AST Endowment ID should be placed. The time of creation  is the only opportunity at the present time where this field can be set. If no parent is needed, as will be the case for most AST users, simply pass a 0 value here.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../basics/creating-an-ast.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../basics/ast-multsigs.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../basics/creating-an-ast.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../basics/ast-multsigs.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
